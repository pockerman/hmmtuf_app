{% extends "base.html" %}
{% block title %}HMMtuf-Sequence View{% endblock title %}
{%block inner_body %}

<br/>
<div class="row">
<div class="col-lg-12" id="igv-browser">
</div>
</div>

{% load static %}

<script src="https://cdn.jsdelivr.net/npm/igv@2.6.2/dist/igv.min.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function () {

var options =
        {
            locus: '1:500,000-5,000,000',
            flanking: 1000,
            genome: 'hg38',
            tracks: [
                {
                    name: 'M585',
                    url: '{% static "igv_tracks/m585.tdf" %}',
                    indexed: false,
                    min:0,
                    max:60
                },
                {
                    name: 'M605',
                    url: '{% static "igv_tracks/m605.tdf" %}',
                    indexed: false,
                    min:0,
                    max:60
                },
                {
                    name: 'TUF',
                    url: '{% static "igv_tracks/tuf.bed" %}',
                    indexed: false
                    /*indexURL: '{% static "igv_tracks/tuf.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30*/
               },
                {
                    name: 'Normal',
                    url: '{% static "igv_tracks/normal.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/normal.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               },
               /*{
                    name: 'Deletion',
                    url: '{% static "igv_tracks/deletion.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/deletion.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               },

                {
                    name: 'Duplication',
                    url: '{% static "igv_tracks/duplication.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/duplication.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               },
                {
                    name: 'GAP',
                    url: '{% static "igv_tracks/gap.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/gap.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               },
                {
                    name: 'Repeats',
                    url: '{% static "igv_tracks/rep.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/rep.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               },
                {
                    name: 'GQUAD',
                    url: '{% static "igv_tracks/quad.bed.gz" %}',
                    indexURL: '{% static "igv_tracks/quad.bed.gz.tbi" %}',
                    displayMode: "SQUISHED",
                    height: 30
               }*/
            ]
        };
        var igvDiv = document.getElementById("igv-browser");
        igv.createBrowser(igvDiv, options)
                .then(function (browser) {
                    console.log("Created IGV browser");
                })
});
</script>

{% endblock inner_body %}
